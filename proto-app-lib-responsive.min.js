/**
 * Copyright Marc J. Schmidt. See the LICENSE file at the top-level
 * directory of this distribution and at
 * https://github.com/marcj/css-element-queries/blob/master/LICENSE.
 */
!function(){var e=function(t,n){function i(){this.q=[],this.add=function(e){this.q.push(e)};var e,t;this.call=function(){for(e=0,t=this.q.length;e<t;e++)this.q[e].call()}}function o(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function s(e,t){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(t)}else e.resizedAttached=new i,e.resizedAttached.add(t);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var n="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",s="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=n,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+n+'"><div style="'+s+'"></div></div><div class="resize-sensor-shrink" style="'+n+'"><div style="'+s+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),{fixed:1,absolute:1}[o(e,"position")]||(e.style.position="relative");var r,l,d=e.resizeSensor.childNodes[0],a=d.childNodes[0],u=e.resizeSensor.childNodes[1],c=(u.childNodes[0],function(){a.style.width=d.offsetWidth+10+"px",a.style.height=d.offsetHeight+10+"px",d.scrollLeft=d.scrollWidth,d.scrollTop=d.scrollHeight,u.scrollLeft=u.scrollWidth,u.scrollTop=u.scrollHeight,r=e.offsetWidth,l=e.offsetHeight});c();var m=function(){e.resizedAttached&&e.resizedAttached.call()},h=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)},f=function(){e.offsetWidth==r&&e.offsetHeight==l||m(),c()};h(d,"scroll",f),h(u,"scroll",f)}var r=Object.prototype.toString.call(t),l="[object Array]"===r||"[object NodeList]"===r||"[object HTMLCollection]"===r||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements;if(l)for(var d=0,a=t.length;d<a;d++)s(t[d],n);else s(t,n);this.detach=function(){if(l)for(var n=0,i=t.length;n<i;n++)e.detach(t[n]);else e.detach(t)}};e.detach=function(e){e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)},"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:window.ResizeSensor=e}(),function(e,t){"function"==typeof define&&define.amd?define(["./ResizeSensor.js"],t):"object"==typeof exports?module.exports=t(require("./ResizeSensor.js")):(e.ElementQueries=t(e.ResizeSensor),e.ElementQueries.listen())}("undefined"!=typeof window?window:this,function(e){var t=function(){function t(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function n(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function i(e,n){var i=n.split(/\d/),o=i[i.length-1];switch(n=parseFloat(n),o){case"px":return n;case"em":return n*t(e);case"rem":return n*t();case"vw":return n*document.documentElement.clientWidth/100;case"vh":return n*document.documentElement.clientHeight/100;case"vmin":case"vmax":var s=document.documentElement.clientWidth/100,r=document.documentElement.clientHeight/100;return n*(0,Math["vmin"===o?"min":"max"])(s,r);default:return n}}function o(e,t){this.element=e;var o,s,r,l,d,a,u,c,m=["min-width","min-height","max-width","max-height"];this.call=function(){r=n(this.element),a={};for(o in f[t])f[t].hasOwnProperty(o)&&(s=f[t][o],l=i(this.element,s.value),d="width"===s.property?r.width:r.height,c=s.mode+"-"+s.property,u="","min"===s.mode&&d>=l&&(u+=s.value),"max"===s.mode&&d<=l&&(u+=s.value),a[c]||(a[c]=""),u&&-1===(" "+a[c]+" ").indexOf(" "+u+" ")&&(a[c]+=" "+u));for(var e in m)m.hasOwnProperty(e)&&(a[m[e]]?this.element.setAttribute(m[e],a[m[e]].substr(1)):this.element.removeAttribute(m[e]))}}function s(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new o(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,function(){t.elementQueriesSetupInformation.call()})),t.elementQueriesSetupInformation.call()}function r(e,t,n,i){if(void 0===f[e]){f[e]=[];var o=p.length;h.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",h.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+o+"px;}",p.push(e)}f[e].push({mode:t,property:n,value:i})}function l(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function d(e){var t=l(e);for(var n in f)if(f.hasOwnProperty(mode))for(var i=t(n,e),o=0,r=i.length;o<r;o++)s(i[o],n)}function a(t){function n(){var e,n=!1;for(e in i)i.hasOwnProperty(e)&&o[e].minWidth&&t.offsetWidth>o[e].minWidth&&(n=e);if(n||(n=r),l!==n)if(d[n])i[l].style.display="none",i[n].style.display="block",l=n;else{var a=new Image;a.onload=function(){i[n].src=s[n],i[l].style.display="none",i[n].style.display="block",d[n]=!0,l=n},a.src=s[n]}else i[n].src=s[n]}var i=[],o=[],s=[],r=0,l=-1,d=[];for(var a in t.children)if(t.children.hasOwnProperty(a)&&t.children[a].tagName&&"img"===t.children[a].tagName.toLowerCase()){i.push(t.children[a]);var u=t.children[a].getAttribute("min-width")||t.children[a].getAttribute("data-min-width"),c=t.children[a].getAttribute("data-src")||t.children[a].getAttribute("url");s.push(c);var m={minWidth:u};o.push(m),u?t.children[a].style.display="none":(r=i.length-1,t.children[a].style.display="block")}l=r,t.resizeSensor=new e(t,n),n()}function u(){for(var e=l(),t=e("[data-responsive-image],[responsive-image]"),n=0,i=t.length;n<i;n++)a(t[n])}function c(e){var t,n,i,o;for(e=e.replace(/'/g,'"');null!==(t=v.exec(e));)for(n=t[1]+t[3],i=t[2];null!==(o=y.exec(i));)r(n,o[1],o[2],o[3])}function m(e){var t="";if(e)if("string"==typeof e)e=e.toLowerCase(),-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||c(e);else for(var n=0,i=e.length;n<i;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?c(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||c(t)):4===e[n].type?m(e[n].cssRules||e[n].rules):3===e[n].type&&m(e[n].styleSheet.cssRules)}var h,f={},p=[],v=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,y=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,g=!1;this.init=function(){var t="animationstart";void 0!==document.documentElement.style.webkitAnimationName?t="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?t="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(t="oanimationstart"),document.body.addEventListener(t,function(t){var n=t.target;if(-1!==window.getComputedStyle(n,null).getPropertyValue("animation-name").indexOf("element-queries")){n.elementQueriesSensor=new e(n,function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()});var i=window.getComputedStyle(n.resizeSensor,null),o=i.getPropertyValue("min-width");o=parseInt(o.replace("px","")),s(t.target,p[o])}}),g||(h=document.createElement("style"),h.type="text/css",h.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",h.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(h),g=!0);for(var n=0,i=document.styleSheets.length;n<i;n++)try{document.styleSheets[n].href&&0===document.styleSheets[n].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[n].href),m(document.styleSheets[n].cssRules||document.styleSheets[n].rules||document.styleSheets[n].cssText)}catch(e){}u()},this.findElementQueriesElements=function(e){d(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensor&&(e.resizeSensor.detach(),delete e.resizeSensor)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){n(t.init)},t});