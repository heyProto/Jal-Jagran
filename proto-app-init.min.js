!function(o){function a(r){if(n[r])return n[r].exports;var t=n[r]={exports:{},id:r,loaded:!1};return o[r].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}var n={};return a.m=o,a.c=n,a.p="",a(0)}([function(o,a){"use strict";function n(){return Promise.all([v(ProtoGraph.vertical_header_json_url),v(ProtoGraph.homepage_header_json_url),v(ProtoGraph.site_header_json_url)])}function r(o){var a=document.createElement("a");return a.href=o,a.hostname}function t(o){return"https://cdn.protograph.pykih.com/Assets/proto-app/img/"+o}function e(o){for(var a=[{domain:"www.facebook.com",image_name:"fb-colour-icon.png"},{domain:"twitter.com",image_name:"twitter-colour-icon.png"},{domain:"www.youtube.com",image_name:"youtube-colour-icon.png"},{domain:"www.instagram.com",image_name:"insta-colour-icon.png"}],n=r(o.url),t=0;t<a.length;t++)if(n===a[t].domain)return a[t];return!1}function p(o,a){if(o.length>0){var n="",r=void 0,p=o[0];$("#proto-navbar-next"),o.forEach(function(o,a){var r=e(o);n+=r?'<div class="proto-app-navbar-page-links">\n                    <a href="'+o.url+'" target='+(o.new_window?"_blank":"_self")+'>\n                        <img src="'+t(r.image_name)+'" />\n                    </a>\n                </div>':'<div class="proto-app-navbar-page-links">\n                    <a href="'+o.url+'" target='+(o.new_window?"_blank":"_self")+">"+o.name+"</a>\n                </div>"}),$("#vertical_nav").html(n),i(a),"mobile"===a&&(r=$(".proto-app-navbar-first-navigation span"),r.html(p.name),$(".proto-app-navbar-navigation-bar").css("opacity",1),$(".proto-app-navbar-navigation-bar").css("display","none"),$(".proto-app-navbar-first-navigation").on("click",function(){$(".proto-app-navbar-navigation-bar").css("display","inline-block"),$(".proto-app-navbar-logo-holder").css("display","none"),$(".proto-app-navbar-left-click-arrow").css("display","inline-block")}))}else"mobile"===a&&($(".proto-app-navbar-first-navigation").css("display","none"),$(".proto-app-navbar-navigation-bar").css("opacity",1),$(".proto-app-navbar-navigation-bar").css("display","none"))}function i(o){var a=0,n=$(".proto-app-navbar-navigation-scroll .proto-app-navbar-page-links"),r=[],t=n.length,e=$(".proto-app-navbar-page-navigation"),p=e[0].getBoundingClientRect();if(n.each(function(o,n){var r=$(n);r.attr("data-item",o),a+=n.getBoundingClientRect().width}),$(".proto-app-navbar-navigation-scroll").css("width",a),a>p.width){var i=$('.proto-app-navbar-navigation-scroll .proto-app-navbar-page-links[data-item="0"]'),s=$('.proto-app-navbar-navigation-scroll .proto-app-navbar-page-links[data-item="'+(t-1)+'"]');i.offset().left===e.offset().left&&"mobile"!==o||r.push(".proto-app-navbar-left-click-arrow"),s.offset().left>e.offset().left+e.width()&&r.push(".proto-app-navbar-right-click-arrow"),$(r.join(",")).css("display","inline-block")}l(o)}function l(o){var a=[],n=$(".proto-app-navbar-navigation-scroll .proto-app-navbar-page-links"),r=n.length-1,t=document.querySelector(".proto-app-navbar-page-navigation"),e=t.getBoundingClientRect(),p=[];n.each(function(o,n){$(n).attr("data-item",o);var r=$(n).position().left,t=n.getBoundingClientRect().width;r+t<=e.width&&a.push(o)}),p.push({window_items:a,scrollLeft:0}),$("#proto-navbar-prev").on("click",function(n){if("mobile"===o&&1===p.length)return $(".proto-app-navbar-navigation-bar").css("display","none"),void $(".proto-app-navbar-logo-holder").css("display","inline-block");var r=(p.pop(),p[p.length-1]),t=$("#proto-navbar-next");a=r.window_items,"inline-block"!==t.css("display")&&t.css("display","inline-block"),$(".proto-app-navbar-overlay").css("overflow","scroll"),$(".proto-app-navbar-overlay").animate({scrollLeft:r.scrollLeft},"fast"),$(".proto-app-navbar-overlay").css("overflow","hidden"),1===p.length&&"mobile"!==o&&$("#proto-navbar-prev").css("display","none")}),$("#proto-navbar-next").on("click",function(o){var n=a[0],t=a[a.length-1],i=0,l=[],s=$("#proto-navbar-prev");if(t!==r){"inline-block"!==s.css("display")&&s.css("display","inline-block");for(var c=n+1;c<=r;c++){var v=document.querySelector('.proto-app-navbar-page-links[data-item="'+c+'"]'),d=v.getBoundingClientRect().width;if(!(i+d<=e.width))break;i+=d,l.push(c)}a=l.sort(function(o,a){return o-a});var b=$('.proto-app-navbar-page-links[data-item="'+a[0]+'"]'),u=$(".proto-app-navbar-overlay").scrollLeft(),h=u+b.position().left;p.push({window_items:a,scrollLeft:h}),$(".proto-app-navbar-overlay").css("overflow","scroll"),$(".proto-app-navbar-overlay").animate({scrollLeft:h},"fast"),$(".proto-app-navbar-overlay").css("overflow","hidden"),a[a.length-1]===r&&$("#proto-navbar-next").css("display","none")}})}function s(o,a){var n=o.filter(function(o,a){return o.name===ProtoGraph.ref_category_object.name})[0],r="#homepage_nav",t=$(r).html();"mobile"!==a&&n.show_by_publisher_in_header&&$(".proto-app-navbar-project-by").css("display","inline-block"),$(r).html('<a href="'+n.url+'" >'+t+"</a>")}function c(o){if(o){$("#site_header").css("background",o.header_background_color);var a=$("#site_header .proto-app-navbar-proto-container .proto-app-navbar-site-logo");a.addClass("proto-app-navbar-position-"+o.header_logo_position),a.append('<a href="'+o.header_jump_to_link+'" target="_blank" title="'+(o.header_tooltip?o.header_tooltip:"")+'" ><img src="'+o.header_logo_url+'" height="50px" /></a>'),o.show_proto_logo&&$(".proto-app-navbar-logo").css("display","inline-block")}}function v(o){return new Promise(function(a,n){var r=new XMLHttpRequest;r.open("GET",o,!0),r.responseType="json",r.onload=function(){var o=r.status;200==o?a(r.response):n(r.statusText)},r.onerror=function(){return n(r.statusText)},r.send()})}window.ProtoGraph=window.ProtoGraph||{},ProtoGraph.renderNavbar=function(){var o=window.innerWidth<=500?"mobile":"laptop";n().then(function(a){p(a[0],o),s(a[1],o),c(a[2]),ProtoGraph.headerJSON=a[2],ProtoGraph.initPage(),ProtoGraph.initDataApp&&ProtoGraph.initDataApp.constructor===Function&&ProtoGraph.initDataApp()}).catch(function(o){console.error("Error fetching data : ",o)})},ProtoGraph.initBackToTop=function(){$(window).scroll(function(o){$(o.target).scrollTop()>100?$(".proto-app-scroll-to-top").addClass("proto-app-show"):$(".proto-app-scroll-to-top").removeClass("proto-app-show")}),$(".proto-app-scroll-to-top").on("click",function(o){$(".proto-app-scroll-to-top").removeClass("proto-app-show"),$("body,html").animate({scrollTop:0},500)})},document.addEventListener("DOMContentLoaded",function(o){ProtoGraph.renderNavbar(),ProtoGraph.initBackToTop()})}]);